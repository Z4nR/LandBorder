generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

model User {
  user_id      String      @id @default(uuid())
  user_name    String      @unique @db.String(10)
  full_name    String?     @db.String(30)
  password     String
  admin        Boolean     @default(false)
  description  String?
  created_at   DateTime    @default(now())
  update_at    DateTime    @updatedAt
  special_code String
  place        PlaceData[]
}

model PlaceData {
  place_id           String    @id @default(uuid())
  place_name         String
  place_owner        String?
  place_address      String
  place_description  String?
  place_type         String
  place_center_point Float[]
  map_id             String?   @unique
  user_id            String?
  created_by         String?
  created_at         DateTime  @default(now())
  updated_by         String?
  update_at          DateTime  @updatedAt
  place_map          PlaceMap? @relation(fields: [map_id], references: [map_id], map: "FK_place_data_place_map")
  user               User?     @relation(fields: [user_id], references: [user_id], map: "FK_place_data_user")
}

model PlaceMap {
  map_id        String     @id @default(uuid())
  place_geojson Json
  created_by    String?
  created_at    DateTime   @default(now())
  updated_by    String?
  update_at     DateTime   @updatedAt
  place_data    PlaceData?
}
